(this["webpackJsonpanime-database"]=this["webpackJsonpanime-database"]||[]).push([[0],{37:function(e,t,n){},39:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(31),i=n.n(c),s=(n(37),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))}),o=n(14),l=n(3),u=n(11),d=n(9),j=n.n(d),b=n(12),h=n(19),m={data:null,loading:!1},f=function(e,t){var n=t.type,r=t.payload;switch(n){case"Loading":return Object(h.a)(Object(h.a)({},e),{},{data:null,loading:!0});case"Success":return Object(h.a)(Object(h.a)({},e),{},{data:r,loading:!1});default:return e}};var p=function(e,t){var n=Object(r.useReducer)(f,m),a=Object(u.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){if(t){var n=setTimeout(Object(b.a)(j.a.mark((function n(){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i({type:"Loading"}),n.prev=1,n.next=4,e(t);case 4:r=n.sent,console.log(r.status),404!==r.status?i({type:"Success",payload:r}):i({type:"Success",payload:null}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])}))),500);return function(){clearTimeout(n)}}}),[e,t]),c};function O(e,t){if(null===e)throw new Error("There is missing data from the animes to save");localStorage.setItem(t,JSON.stringify(e))}function v(e){var t=JSON.parse(localStorage.getItem(e));if(null===t)throw new Error("There are no saved animes with search value: ".concat(e));return t}function x(e,t){if(null===t)throw new Error("there are no animes to save");localStorage.setItem(e,JSON.stringify(t))}function g(e){var t=JSON.parse(localStorage.getItem(e));if(null===t)throw new Error("there is no saved anime with that id");return t}var w="https://api.jikan.moe/v3";function y(){return(y=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",v(t));case 4:return e.prev=4,e.t0=e.catch(0),e.next=8,fetch("".concat(w,"/search/anime?q=").concat(t));case 8:return n=e.sent,e.next=11,n.json();case 11:return O(r=e.sent,t),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function N(e){return S.apply(this,arguments)}function S(){return(S=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",g(t));case 4:return e.prev=4,e.t0=e.catch(0),e.next=8,fetch("".concat(w,"/anime/").concat(t));case 8:return n=e.sent,e.next=11,n.json();case 11:return r=e.sent,x(t,r),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}var k=function(e){return y.apply(this,arguments)},E=(n(39),n(1));var T,L,C=function(e){var t=e.title,n=e.imageUrl,r=e.id,a=t.split(":");return Object(E.jsx)("div",{className:"container",id:"container-cover",children:Object(E.jsxs)(o.b,{id:"anime-link",to:"/anime/".concat(r),children:[Object(E.jsx)("h3",{children:a[0].substring(0,24)}),Object(E.jsx)("img",{id:"image-cover",src:n,alt:t})]})})},I=n(28),J=n(32),_=n(20),F=Object(_.a)(T||(T=Object(I.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),B=J.a.div(L||(L=Object(I.a)(["\n  width: 5em;\n  height: 5em;\n  border: 1em solid black;\n  border-radius: 50%;\n  color: black;\n  border-top-color: transparent;\n  animation: "," 1s linear infinite;\n"])),F);n(46);var z=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],c=p(k,n),i=c.data,s=c.loading;return Object(E.jsxs)("div",{id:"animes-search",children:[Object(E.jsx)("div",{id:"container-input",className:"columns is-mobile is-centered",children:Object(E.jsx)("input",{className:"input is-normal",id:"search-input",type:"text",placeholder:"Look for an anime",onChange:function(e){return a(e.target.value)}})}),Object(E.jsx)("div",{className:"columns is-mobile is-centered",id:"container-loading",children:s&&Object(E.jsx)(B,{})}),Object(E.jsx)("div",{className:"container",id:"container-covers",children:i?i.results.map((function(e){return Object(E.jsx)(C,{title:e.title,imageUrl:e.image_url,id:e.mal_id},e.title)})):""})]})};var M=function(e,t){var n=Object(r.useState)(null),a=Object(u.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){try{i(e(t))}catch(n){console.error(n)}}),[e,t]),c};n(47);var P=function(){var e=Object(l.e)().id,t=M(N,e),n=Object(r.useState)(null),a=Object(u.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,t;case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(E.jsx)("div",{id:"anime-search",children:c&&Object(E.jsxs)("div",{className:"columns",children:[Object(E.jsxs)("div",{className:"column",id:"column-1",children:[Object(E.jsx)("h1",{className:"is-size-2",children:c.title}),Object(E.jsx)("img",{src:c.image_url,alt:c.title})]}),Object(E.jsxs)("div",{className:"column",id:"column-2",children:[Object(E.jsxs)("div",{children:["Score: ",c.score]}),Object(E.jsxs)("div",{children:["Episodes: ",c.episodes]}),"Original"===c.source?Object(E.jsx)("div",{children:"Original anime"}):Object(E.jsxs)("div",{children:["Based on a ",c.source.toLowerCase()]}),Object(E.jsx)("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",children:"Check it out on MAL!"}),Object(E.jsx)("hr",{}),Object(E.jsx)("p",{children:c.synopsis})]}),c.trailer_url&&Object(E.jsxs)("div",{className:"column",id:"column-3",children:[Object(E.jsx)("h1",{className:"is-size-2",id:"main-title",children:"Trailer"}),Object(E.jsx)("iframe",{id:"trailer",title:"Trailer for ".concat(c.title),width:"350",height:"300",src:c.trailer_url,frameborder:"0",allowfullscreen:!0})]})]})})};n(48);var R=function(){return Object(E.jsx)("div",{className:"container",id:"main-container",children:Object(E.jsxs)(o.a,{forceRefresh:!0,children:[Object(E.jsx)("div",{id:"navbar",children:Object(E.jsx)(o.b,{className:"navbar-item",id:"nav-link",to:"/",children:"Home"})}),Object(E.jsx)(l.a,{path:"/",exact:!0,children:Object(E.jsx)(z,{})}),Object(E.jsx)(l.a,{path:"/anime/:id",children:Object(E.jsx)(P,{})})]})})};i.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(R,{})}),document.getElementById("root")),s()}},[[49,1,2]]]);
//# sourceMappingURL=main.3b4b6b9c.chunk.js.map